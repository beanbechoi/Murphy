unit CPortal;interface	uses		TCL, GridPieceIntf;implementation	procedure CPortal.InitPiece;	begin		inherited InitPiece;		destructable := true;	end;	function CPortal.WalkOnto (x, y: integer): boolean;		var			murFDir, murTDir: integer;			otherSide: point;			myIcon: integer;	begin		murFDir := CInfoApp(gApplication).GetMurphy.GetLastDir;		murTDir := 8 - murFDir;		otherSide := CInfoApp(gApplication).LocFromDir(x, y, murFDir);		WalkOnto := FALSE;	{HAAHAHAHAHAHAHAHAHAHAHAHAH I AM INSANE}{AND I WILL TAKE OVER THE WORLD HAHAHAHAHAHAHHAHAA}{AND YOU WILL BE UNDER MY POWER HAHAHAHAHAHAHHA}		if CInfoApp(gApplication).GetGPane.GetBoard.GetData(otherSide.h, otherSide.v) = 129 then			begin				myIcon := CInfoApp(gApplication).GetGPane.GetBoard.GetData(x, y);				if (myIcon = 132) then					WalkOnto := TRUE				else if (myIcon = 950) and ((murFDir = kUp) or (murFDir = kDown)) then					WalkOnto := TRUE				else if (myIcon = 952) and ((murFDir = kRight) or (murFDir = kLeft)) then					WalkOnto := TRUE				else					WalkOnto := (murFDir = (myIcon mod 8));			end;	end;end.