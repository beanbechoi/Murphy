unit CInfoNewDir;interface	uses		TCL, InfoIntf;implementation	procedure CInfoNewDir.IInfoNewDir;		var			tempButton: CButton;	begin		IDLOGDirector(kResourceID, CInfoApp(gApplication));		tempButton := CButton(findViewByID(2));		tempButton.setClickCmd(cmdOK);		tempButton.setDefault(true);		tempButton := CButton(findViewByID(3));		tempButton.setClickCmd(cmdCancel);		itsWindow.hide;	end;	procedure CInfoNewDir.DoCommand (theCommand: longint);	begin		case theCommand of			cmdOK: 				begin					done := true;					err := false;				end;			cmdCancel: 				begin					done := true;					err := false;				end;			otherwise				inherited DoCommand(theCommand);		end;	end;	function CInfoNewDir.getData: str255;		var			selStart, selEnd: longint;			tempEditText: CEditText;			tempChars: CharsHandle;			place: integer;	begin		tempEditText := CEditText(findViewByID(1));		tempEditText.getSelection(selStart, selEnd);		tempChars := CharsHandle(tempEditText.getTextHandle);		for place := selStart to selEnd do			getData[place] := tempChars^^[place];		getData[0] := chr(selEnd - selStart + 1);	end;	function CInfoNewDir.GetNewCharacter (name: str255): boolean;	begin		itsWindow.show;		itsWindow.select;		itsWindow.setModal(true);		gBartender.disableMenuBar;		while not done do			CInfoApp(gApplication).process1Event;		GetNewCharacter := not err;		if not err then			name := getdata;		done := false;		err := false;		gBartender.enableMenuBar;		itsWindow.setModal(false);	end;end.